<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="eng">
<head th:insert="partials/header :: head"/>
<style>
  h1,h3 {
    text-align: center;
  }
</style>
<body>
<!--<div th:replace="partials/navbar :: navbar"/>-->


<h1>Appetizers</h1>
<h3>Chips</h3>
<div th:each="item : ${menuItems}">
  <div th:if="${item.mainCategory.name() =='APPETIZERS' && item.subCategory.name() == 'CHIPS'}">
    <h4 th:text="${item.item_name}"></h4>
    <p th:text="${item.description}"></p>
    <p>$ <span th:text="${item.price}"></span></p>

    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target=${'#optionsModal' + item.id}">
      Add to bag
    </button>

    <hr>
  </div>
</div>
<h3>Other</h3>
<div th:each="item : ${menuItems}">
  <div th:if="${item.mainCategory.name() =='APPETIZERS' && item.subCategory.name() == 'OTHER'}">
    <h4 th:text="${item.item_name}"></h4>
    <p th:text="${item.description}"></p>
    <p>$ <span th:text="${item.price}"></span></p>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target=${'#optionsModal' + item.id}">
      Add to bag
    </button>
    <hr>
  </div>
</div>

<h1>Entrees</h1>
<div th:each="item : ${menuItems}">
  <div th:if="${item.mainCategory.name() =='ENTREES'}">
    <h4 th:text="${item.item_name}"></h4>
    <p th:text="${item.description}"></p>
    <p>$ <span th:text="${item.price}"></span></p>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target=${'#optionsModal' + item.id}">
      Add to bag
    </button>
    <hr>
  </div>
</div>

<h1>Sides</h1>
<div th:each="item : ${menuItems}">
  <div th:if="${item.mainCategory.name() =='SIDES'}">
    <h4 th:text="${item.item_name}"></h4>
    <p th:text="${item.description}"></p>
    <p>$ <span th:text="${item.price}"></span></p>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target=${'#optionsModal' + item.id}">
      Add to bag
    </button>
    <hr>
  </div>
</div>

<h1>Salsas</h1>
<div th:each="item : ${menuItems}">
  <div th:if="${item.mainCategory.name() =='SALSAS'}">
    <h4 th:text="${item.item_name}"></h4>
    <p th:text="${item.description}"></p>
    <p>$ <span th:text="${item.price}"></span></p>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target=${'#optionsModal' + item.id}">
      Add to bag
    </button>
    <hr>
  </div>
</div>

<h1>Beverages</h1>
<h3>Sodas</h3>
<div th:each="item : ${menuItems}">
  <div th:if="${item.mainCategory.name() =='BEVERAGES' && item.subCategory.name() == 'SODAS'}">
    <h4 th:text="${item.item_name}"></h4>
    <p th:text="${item.description}"></p>
    <p>$ <span th:text="${item.price}"></span></p>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target=${'#optionsModal' + item.id}">
      Add to bag
    </button>
    <hr>
  </div>
</div>
<h3>Agua Frescas</h3>
<div th:each="item : ${menuItems}">
  <div th:if="${item.mainCategory.name() =='BEVERAGES' && item.subCategory.name() == 'AGUAFRESCAS'}">
    <h4 th:text="${item.item_name}"></h4>
    <p th:text="${item.description}"></p>
    <p>$ <span th:text="${item.price}"></span></p>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target=${'#optionsModal' + item.id}">
      Add to bag
    </button>
    <hr>
  </div>
</div>
<h3>Coffee</h3>
<div th:each="item : ${menuItems}">
  <div th:if="${item.mainCategory.name() =='BEVERAGES' && item.subCategory.name() == 'COFFEE'}">
    <h4 th:text="${item.item_name}"></h4>
    <p th:text="${item.description}"></p>
    <p>$ <span th:text="${item.price}"></span></p>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target=${'#optionsModal' + item.id}">
      Add to bag
    </button>
    <hr>
  </div>
</div>
<h3>Other</h3>
<div th:each="item : ${menuItems}">
  <div th:if="${item.mainCategory.name() =='BEVERAGES' && item.subCategory.name() == 'OTHER'}">
    <h4 th:text="${item.item_name}"></h4>
    <p th:text="${item.description}"></p>
    <p>$ <span th:text="${item.price}"></span></p>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" th:attr="data-bs-target=${'#optionsModal' + item.id}">
      Add to bag
    </button>
    <hr>
  </div>
</div>



<!--Creating modals -->
<div th:each="item : ${menuItems}">

  <!-- Modal -->
  <div class="modal fade" th:attr="id=${'optionsModal' + item.id}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h5 th:text="${item.item_name}"></h5>
          <div th:if="${item.meatReq.name() =='YES'}">
            <h6>Chose your meat (1 choice required)</h6>
            <div th:each="option : ${item.menuItemOptions}">
              <div th:if="${option.getOptionCategory().name() == 'MEAT'}">
                <input type="radio" th:id="${'meatOptions' + item.id}" th:attr="name=${'meatOptions' + item.id}" th:value="${option.getOption_name()}">
                <label th:for="${option.getOption_name()}"><span th:text="${option.getOption_name()}"></span></label><br>
              </div>
            </div>
          </div>
          <div th:if="${item.toppingsReq.name() =='YES'}">
            <h6>Chose your toppings</h6>
            <div th:each="option : ${item.menuItemOptions}">
              <div th:if="${option.getOptionCategory().name() == 'TOPPING'}">
                <input type="checkbox" th:id="${'toppingOptions' + item.id}" th:attr="name=${'toppingOptions' + item.id}" th:value="${option.getOption_name()}">
                <label th:for="${option.getOption_name()}"><span th:text="${option.getOption_name()}"></span></label><br>
              </div>
            </div>
          </div>
          <h6>quantity: x</h6>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary">Add to bag</button>
        </div>
      </div>
    </div>
  </div>
</div>




</body>
</html>